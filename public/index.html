<!DOCTYPE html>
<html ng-app='ProductSearch'>
  <head>
    <title>Find My Items</title>
    <script type='text/javascript' src='angular.min.js'></script>
    <script type='text/javascript' src='client.js'></script>
  </head>
  <body ng-controller='SearchController as searchController'>
    <h3>Find My Items</h3>
    <form ng-submit='searchController.submit()'>
      <strong>I'm looking for</strong>
      <input autofocus placeholder='Groot' ng-model='searchController.query'>
      <strong>near zipcode</strong>
      <input ng-model='searchController.zipcode'>
      <input type='submit' value='Search' ng-disabled='searchController.isRunning'>
    </form>
    <p ng-if='searchController.isRunning'>Loading...</p>
    <section ng-repeat='(upc,products) in searchController.searchResults'>
      <img src='{{products[0].imageURL}}'>
      <a href='{{products[0].url}}'>{{products[0].name}}</a>
      <strong>{{products[0].price}}</strong>
      <p>{{products[0].store.type}}</p>
      <p>{{products[0].store.city}}, {{products[0].store.region}}</p>
      <p>Distance: {{products[0].store.distance}} miles</p>
    </section>

  </body>
</html>
